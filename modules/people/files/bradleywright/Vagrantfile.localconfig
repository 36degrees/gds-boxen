# -*- mode: ruby; -*-
# Give it 2GB of RAM so I can run all the things
config.vm.provider :virtualbox do |vb|
  vb.customize ["modifyvm", :id, "--memory", "2048", "--cpus", "2"]
end

config.vm.provider :vmware_fusion do |v|
  v.vmx["memsize"] = "2048"
  v.vmx["numvcpus"] = "1"
end

config.vm.synced_folder "~/Projects/puppet", "/var/my-puppet"

config.vm.provision :shell, :inline => "sudo puppet apply /var/my-puppet/manifests/govuk_dev.pp --modulepath=/var/my-puppet/modules/"
